<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>âš¡ ZEUS SPINS â€” Smooth Casino Reel</title>
<style>
body { background:#111; color:#fff; font-family:Arial,sans-serif; text-align:center; margin:0; overflow:hidden; }
h1{margin:10px 0;}
#game{ display:flex; justify-content:center; gap:10px; margin-top:20px;}
.column{ width:100px; height:300px; overflow:hidden; background:#222; border-radius:12px; display:flex; flex-direction:column; align-items:center; padding:5px 0;}
.reel{ display:flex; flex-direction:column; }
.cell{ width:100px; height:100px; font-size:60px; display:flex; align-items:center; justify-content:center; background:#333; border-radius:12px; }
#controls{margin-top:20px;}
#celebration{position:fixed;top:0;left:0;right:0;bottom:0; display:none; align-items:center; justify-content:center; background:rgba(0,0,0,0.6); font-size:60px; font-weight:bold; z-index:100; flex-direction:column; color:gold;}
.confetti{position:absolute; font-size:24px; animation:fall linear forwards;}
@keyframes fall{ to { transform:translateY(100vh) rotate(360deg); opacity:0; } }
#toast{ position:fixed; bottom:20px; left:50%; transform:translateX(-50%); background:rgba(255,255,255,0.1); color:#ccc; padding:8px 16px; border-radius:8px; font-size:18px; opacity:0; pointer-events:none; transition:opacity 0.5s ease;}
#toast.show{opacity:1;}
#rules{ max-width:600px; margin:20px auto; text-align:left; background:#222; padding:15px; border-radius:12px; }
</style>
</head>
<body>
<h1>âš¡ ZEUS SPINS â€” Smooth Casino Reel</h1>
<p>Emoji slot â€¢ One payline (middle row) â€¢ Not for real-money use</p>

<div id="game"></div>
<div id="controls">Balance: <span id="balance">1000</span> | Bet: <span id="bet">10</span><br><br><button id="spin">SPIN âš¡</button></div>
<div id="celebration"></div>
<div id="toast"></div>

<div id="rules">
<h2>Game Rules & Payouts</h2>
<ul>
<li>Spin the reels using the "SPIN âš¡" button.</li>
<li>One payline: middle row of 3 symbols determines wins.</li>
<li>Winning combinations (middle row all identical):</li>
<ul>
<li>Low symbols (ğŸ’, ğŸ‹, ğŸŠ) â†’ Small win: +20 balance</li>
<li>Medium symbols (ğŸ‡, ğŸ‰, ğŸ’) â†’ Medium win: +100 balance</li>
<li>High symbols (âš¡, ğŸ’°) â†’ Big win: +500 balance</li>
</ul>
</div>

<audio id="spinSound" src="https://www.soundjay.com/button/sounds/button-16.mp3"></audio>
<audio id="winSound" src="https://www.soundjay.com/misc/sounds/coins-1.mp3"></audio>

<script>
const symbols=["ğŸ’","ğŸ‹","ğŸŠ","ğŸ‡","ğŸ‰","ğŸ’","âš¡","ğŸ’°"];
const game=document.getElementById("game");
const balanceEl=document.getElementById("balance");
const celebration=document.getElementById("celebration");
const spinBtn=document.getElementById("spin");
const toast=document.getElementById("toast");
const spinSound=document.getElementById("spinSound");
const winSound=document.getElementById("winSound");

let balance=1000;
const bet=10;
const values={"ğŸ’":"low","ğŸ‹":"low","ğŸŠ":"low","ğŸ‡":"med","ğŸ‰":"med","ğŸ’":"med","âš¡":"high","ğŸ’°":"high"};

let columns=[];
for(let c=0;c<3;c++){
  const col=document.createElement("div");
  col.className="column";
  const reel=document.createElement("div");
  reel.className="reel";
  let cells=[];
  for(let i=0;i<30;i++){ // extra symbols for multiple loops
    const div=document.createElement("div");
    div.className="cell";
    div.textContent=symbols[Math.floor(Math.random()*symbols.length)];
    reel.appendChild(div);
    cells.push(div);
  }
  col.appendChild(reel);
  game.appendChild(col);
  columns.push({col,reel,cells});
}

function randomSymbol(){ return symbols[Math.floor(Math.random()*symbols.length)]; }
function randomMiddleRow(){ if(Math.random()<0.2){ const sym=symbols[Math.floor(Math.random()*symbols.length)]; return [sym,sym,sym]; } else { return [randomSymbol(),randomSymbol(),randomSymbol()]; } }

function spin(){
  if(balance<bet) return showToast("Not enough balance!");
  balance-=bet;
  balanceEl.textContent=balance;
  spinBtn.disabled=true;

  spinSound.currentTime=0; spinSound.play();
  const midRow=randomMiddleRow();

  columns.forEach((colObj,index)=>{
    const {reel,cells}=colObj;
    reel.style.transition="none";
    reel.style.transform="translateY(0)";

    // Arrange symbols so that middle row symbol is pre-set at target position
    const targetCellIndex=4; // middle row
    const startIndex=Math.floor(Math.random()*(cells.length-10));
    for(let i=0;i<cells.length;i++){
      if(i===targetCellIndex) cells[i].textContent=midRow[index];
      else cells[i].textContent=randomSymbol();
    }

    const loops=3+index; // reels spin multiple loops
    const totalMove=-100*(targetCellIndex + loops*3); // slide distance

    setTimeout(()=>{
      reel.style.transition=`transform ${1.5+index*0.3}s cubic-bezier(0.5,0,0.5,1)`;
      reel.style.transform=`translateY(${totalMove}px)`;
      if(index===2) setTimeout(()=>evaluateWin(), 1500+index*300);
    }, index*200);
  });
}

function evaluateWin(){
  const midRow=columns.map(c=>c.cells[4]);
  const symbolsRow=midRow.map(c=>c.textContent);
  let winType=null;
  if(symbolsRow[0]===symbolsRow[1] && symbolsRow[1]===symbolsRow[2]){
    const value=values[symbolsRow[0]];
    if(value==="low") winType="small";
    if(value==="med") winType="medium";
    if(value==="high") winType="big";
  }
  if(winType){
    if(winType==="small") balance+=20;
    if(winType==="medium") balance+=100;
    if(winType==="big") balance+=500;
    balanceEl.textContent=balance;
    winSound.currentTime=0; winSound.play();
    celebrate(winType);
  } else {
    midRow.forEach(c=>{ c.classList.add("shake"); setTimeout(()=>c.classList.remove("shake"),500); });
    showToast("ğŸ‘‰ Try again!");
  }
  spinBtn.disabled=false;
}

function celebrate(type){
  celebration.innerHTML=""; celebration.style.display="flex";
  if(type==="small"){ celebration.textContent="âœ¨ Nice! âœ¨"; setTimeout(()=>celebration.style.display="none",1000); }
  else if(type==="medium"){ celebration.textContent="ğŸŠ WIN! ğŸŠ"; dropConfetti(20); setTimeout(()=>celebration.style.display="none",2000); }
  else if(type==="big"){ celebration.textContent="ğŸ’¥ BIG WIN!!! ğŸ’¥"; dropConfetti(50); fireworks(); setTimeout(()=>celebration.style.display="none",4000); }
}

function showToast(msg){ toast.textContent=msg; toast.classList.add("show"); setTimeout(()=>toast.classList.remove("show"),1500); }

function dropConfetti(count){
  for(let i=0;i<count;i++){
    const conf=document.createElement("div");
    conf.className="confetti";
    conf.textContent=["ğŸ‰","âœ¨","ğŸ’°","â­","ğŸŠ"][Math.floor(Math.random()*5)];
    conf.style.left=Math.random()*window.innerWidth+"px";
    conf.style.top="-20px";
    conf.style.animationDuration=(1+Math.random()*2)+"s";
    celebration.appendChild(conf);
    setTimeout(()=>conf.remove(),3000);
  }
}

function fireworks(){
  for(let i=0;i<10;i++){
    const fire=document.createElement("div");
    fire.className="confetti";
    fire.textContent="ğŸ†";
    fire.style.left=Math.random()*window.innerWidth+"px";
    fire.style.top=Math.random()*window.innerHeight/2+"px";
    fire.style.animationDuration="2s";
    celebration.appendChild(fire);
    setTimeout(()=>fire.remove(),3000);
  }
}

spinBtn.addEventListener("click", spin);
</script>
</body>
</html>
