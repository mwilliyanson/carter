<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Executive Document Signing Platform</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Georgia', 'Times New Roman', serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
            color: #2c3e50;
            line-height: 1.7;
            min-height: 100vh;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 30px;
        }

        .header-banner {
            text-align: center;
            color: #f8f9fa;
            margin-bottom: 50px;
            padding: 50px 30px;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 15px;
            backdrop-filter: blur(10px);
        }

        .header-banner h1 {
            font-size: 2.8rem;
            font-weight: 400;
            margin-bottom: 20px;
            letter-spacing: 2px;
            color: #e8e8e8;
        }

        .header-banner p {
            font-size: 1.1rem;
            opacity: 0.85;
            max-width: 600px;
            margin: 0 auto;
            font-style: italic;
        }

        .card {
            background: linear-gradient(145deg, #ffffff 0%, #f8f9fa 100%);
            border-radius: 8px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.15);
            margin-bottom: 30px;
            overflow: hidden;
            border: 1px solid #e9ecef;
        }

        .card-header {
            padding: 30px 40px;
            background: linear-gradient(135deg, #2c3e50 0%, #34495e 100%);
            color: white;
            border-bottom: 3px solid #1a252f;
        }

        .card-content {
            padding: 40px;
        }

        .card-title {
            font-size: 1.6rem;
            font-weight: 500;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 15px;
            letter-spacing: 1px;
        }

        .card-description {
            color: rgba(255, 255, 255, 0.85);
            font-size: 0.95rem;
            font-style: italic;
        }

        .badge {
            background: linear-gradient(135deg, #c0392b 0%, #e74c3c 100%);
            color: white;
            padding: 8px 18px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 500;
            margin-left: auto;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .badge.completed {
            background: linear-gradient(135deg, #27ae60 0%, #2ecc71 100%);
        }

        .document-content {
            background: #fefefe;
            padding: 50px;
            border: 2px solid #bdc3c7;
            font-size: 1rem;
            line-height: 1.9;
            font-family: 'Georgia', serif;
            color: #2c3e50;
        }

        .document-header {
            text-align: center;
            margin-bottom: 40px;
            padding-bottom: 30px;
            border-bottom: 3px double #34495e;
        }

        .document-content h3 {
            font-size: 2rem;
            font-weight: 700;
            color: #2c3e50;
            text-transform: uppercase;
            letter-spacing: 3px;
            margin-bottom: 20px;
        }

        .document-subtitle {
            font-size: 1.1rem;
            color: #7f8c8d;
            font-style: italic;
            margin-bottom: 30px;
        }

        .document-content h4 {
            font-weight: 700;
            margin: 35px 0 20px 0;
            color: #2c3e50;
            font-size: 1.15rem;
            text-transform: uppercase;
            letter-spacing: 1px;
            border-bottom: 1px solid #bdc3c7;
            padding-bottom: 8px;
        }

        .document-content p {
            margin-bottom: 20px;
            color: #34495e;
            text-align: justify;
            text-indent: 30px;
        }

        .document-content .whereas {
            font-style: italic;
            margin-bottom: 25px;
            padding-left: 40px;
            border-left: 4px solid #34495e;
            text-indent: 0;
        }

        .document-content .now-therefore {
            font-weight: 600;
            margin: 30px 0;
            text-align: center;
            text-transform: uppercase;
            letter-spacing: 2px;
            text-indent: 0;
        }

        .subsection {
            margin-left: 30px;
            margin-bottom: 15px;
        }

        .form-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 25px;
        }

        .form-grid.two-cols {
            grid-template-columns: 1fr 1fr;
        }

        .form-group {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .form-label {
            font-weight: 600;
            font-size: 0.95rem;
            color: #2c3e50;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .form-input {
            padding: 15px 18px;
            border: 2px solid #bdc3c7;
            border-radius: 4px;
            font-size: 1rem;
            transition: all 0.3s ease;
            background: #ffffff;
            font-family: 'Georgia', serif;
        }

        .form-input:focus {
            outline: none;
            border-color: #34495e;
            box-shadow: 0 0 0 3px rgba(52, 73, 94, 0.1);
        }

        .signature-section {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 40px;
            margin-top: 30px;
        }

        .signature-option {
            background: linear-gradient(145deg, #f8f9fa 0%, #e9ecef 100%);
            border: 2px solid #bdc3c7;
            border-radius: 8px;
            padding: 30px;
            transition: all 0.3s ease;
        }

        .signature-option:hover {
            border-color: #34495e;
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(52, 73, 94, 0.15);
        }

        .signature-option.has-content {
            border-color: #27ae60;
            background: linear-gradient(145deg, #f0fff4 0%, #e8f5e8 100%);
        }

        .signature-option-title {
            font-size: 1.1rem;
            font-weight: 600;
            margin-bottom: 20px;
            color: #2c3e50;
            text-transform: uppercase;
            letter-spacing: 1px;
            text-align: center;
        }

        .signature-input {
            font-family: 'Brush Script MT', 'Dancing Script', cursive;
            font-size: 1.8rem;
            font-style: italic;
            text-align: center;
            background: white;
            border: 2px solid #bdc3c7;
            padding: 25px;
            border-radius: 4px;
            transition: all 0.3s ease;
        }

        .signature-input:focus {
            border-color: #34495e;
        }

        .signature-canvas-container {
            border: 2px solid #bdc3c7;
            border-radius: 4px;
            padding: 20px;
            text-align: center;
            background: white;
            transition: all 0.3s ease;
        }

        .signature-canvas-container:hover {
            border-color: #34495e;
        }

        .signature-canvas {
            border: 1px solid #bdc3c7;
            border-radius: 4px;
            cursor: crosshair;
            width: 100%;
            height: 120px;
            display: block;
            margin: 0 auto;
            background: #fefefe;
        }

        .canvas-instructions {
            color: #7f8c8d;
            font-size: 0.85rem;
            margin-bottom: 15px;
            font-style: italic;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .button {
            padding: 15px 30px;
            border: none;
            border-radius: 4px;
            font-size: 0.9rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            gap: 10px;
            text-transform: uppercase;
            letter-spacing: 1px;
            font-family: 'Georgia', serif;
        }

        .button-primary {
            background: linear-gradient(135deg, #2c3e50 0%, #34495e 100%);
            color: white;
            box-shadow: 0 4px 15px rgba(44, 62, 80, 0.3);
        }

        .button-primary:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(44, 62, 80, 0.4);
        }

        .button-secondary {
            background: white;
            color: #2c3e50;
            border: 2px solid #bdc3c7;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }

        .button-secondary:hover {
            background: #f8f9fa;
            border-color: #95a5a6;
            transform: translateY(-2px);
        }

        .button-clear {
            background: linear-gradient(135deg, #c0392b 0%, #e74c3c 100%);
            color: white;
            padding: 10px 20px;
            font-size: 0.8rem;
            margin-top: 15px;
        }

        .button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none !important;
        }

        .button-group {
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: 20px;
            margin-top: 40px;
            padding-top: 30px;
            border-top: 2px solid #ecf0f1;
        }

        .agreement-notice {
            background: linear-gradient(145deg, #ecf0f1 0%, #d5dbdb 100%);
            border: 2px solid #bdc3c7;
            border-radius: 8px;
            padding: 30px;
            margin-bottom: 30px;
        }

        .agreement-notice h4 {
            color: #2c3e50;
            font-weight: 700;
            margin-bottom: 20px;
            font-size: 1.1rem;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .agreement-notice ul {
            color: #34495e;
            font-size: 0.95rem;
            margin-left: 25px;
        }

        .agreement-notice li {
            margin-bottom: 10px;
            font-weight: 500;
        }

        .success-container {
            text-align: center;
            padding: 60px 40px;
        }

        .success-icon {
            width: 90px;
            height: 90px;
            background: linear-gradient(135deg, #27ae60 0%, #2ecc71 100%);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 40px;
            font-size: 3rem;
            color: white;
            box-shadow: 0 10px 30px rgba(39, 174, 96, 0.3);
        }

        .success-title {
            font-size: 2.2rem;
            font-weight: 500;
            color: #2c3e50;
            margin-bottom: 20px;
            letter-spacing: 1px;
        }

        .success-description {
            color: #27ae60;
            margin-bottom: 40px;
            font-size: 1.1rem;
            font-weight: 500;
            font-style: italic;
        }

        .date-info {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
            color: #7f8c8d;
            font-size: 0.95rem;
            margin-top: 30px;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 8px;
            font-weight: 500;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .hidden {
            display: none;
        }

        .icon {
            width: 24px;
            height: 24px;
            fill: currentColor;
        }

        .signature-status {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-top: 15px;
            font-size: 0.85rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .signature-status.complete {
            color: #27ae60;
        }

        .signature-status.incomplete {
            color: #c0392b;
        }

        .checkmark {
            width: 18px;
            height: 18px;
            border-radius: 50%;
            background: #27ae60;
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
        }

        .x-mark {
            width: 18px;
            height: 18px;
            border-radius: 50%;
            background: #c0392b;
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
        }

        @media (max-width: 768px) {
            .header-banner h1 {
                font-size: 2rem;
            }
            
            .form-grid.two-cols {
                grid-template-columns: 1fr;
            }
            
            .signature-section {
                grid-template-columns: 1fr;
                gap: 30px;
            }
            
            .button-group {
                flex-direction: column;
                align-items: stretch;
            }
            
            .card-content {
                padding: 30px;
            }

            .document-content {
                padding: 30px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header Banner -->
        <div class="header-banner">
            <h1>Executive Legal Platform</h1>
            <p>Confidential Document Execution & Digital Authentication</p>
        </div>

        <!-- Main Document Interface -->
        <div id="documentInterface">
            <!-- Header -->
            <div class="card">
                <div class="card-header">
                    <div class="card-title">
                        <svg class="icon" viewBox="0 0 24 24">
                            <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                            <polyline points="14,2 14,8 20,8"></polyline>
                            <line x1="16" y1="13" x2="8" y2="13"></line>
                            <line x1="16" y1="17" x2="8" y2="17"></line>
                            <polyline points="10,9 9,9 8,9"></polyline>
                        </svg>
                        Executive Consulting Agreement
                        <span class="badge" id="statusBadge">Pending Execution</span>
                    </div>
                    <div class="card-description">Confidential legal document requiring authorized signature</div>
                </div>
            </div>

            <!-- Document Content -->
            <div class="card">
                <div class="card-header">
                    <div class="card-title">Legal Terms & Provisions</div>
                </div>
                <div class="card-content">
                    <div class="document-content">
                        <div class="document-header">
                            <h3>Executive Consulting Agreement</h3>
                            <div class="document-subtitle">Confidential Professional Services Contract</div>
                        </div>
                        
                        <p class="whereas">
                            <strong>WHEREAS,</strong> the Client, a corporation duly organized and existing under the laws of the State of Delaware, desires to engage the services of an independent consulting firm for strategic advisory services; and
                        </p>
                        
                        <p class="whereas">
                            <strong>WHEREAS,</strong> the Consultant possesses specialized expertise in corporate strategy, mergers and acquisitions, and executive advisory services; and
                        </p>

                        <p class="whereas">
                            <strong>WHEREAS,</strong> the parties wish to establish the terms and conditions governing such professional relationship;
                        </p>
                        
                        <p class="now-therefore">
                            <strong>NOW, THEREFORE,</strong> in consideration of the mutual covenants, terms, and conditions set forth herein, and for other good and valuable consideration, the receipt and sufficiency of which are hereby acknowledged, the parties agree as follows:
                        </p>
                        
                        <h4>Article I - Engagement and Scope of Services</h4>
                        <p>
                            The Client hereby engages the Consultant to provide strategic advisory services including, but not limited to: (i) corporate restructuring analysis, (ii) market expansion strategies, (iii) executive leadership consulting, and (iv) merger and acquisition advisory services. The specific scope of work shall be detailed in Statement of Work documents executed contemporaneously herewith.
                        </p>

                        <h4>Article II - Compensation and Fee Structure</h4>
                        <p>
                            In consideration for the professional services rendered hereunder, Client shall compensate Consultant as follows:
                        </p>
                        <div class="subsection">
                            <p><strong>(a)</strong> Monthly Retainer: Fifty Thousand Dollars ($50,000.00) per month;</p>
                            <p><strong>(b)</strong> Success Fee: Two percent (2%) of transaction value for completed M&A transactions;</p>
                            <p><strong>(c)</strong> Expenses: All reasonable and documented out-of-pocket expenses incurred in connection with the services.</p>
                        </div>

                        <h4>Article III - Term and Termination Provisions</h4>
                        <p>
                            This Agreement shall commence on the Effective Date and shall continue for an initial term of twelve (12) months, automatically renewable for successive six (6) month periods unless terminated by either party upon ninety (90) days prior written notice. Either party may terminate this Agreement immediately upon material breach by the other party, subject to a thirty (30) day cure period.
                        </p>

                        <h4>Article IV - Confidentiality and Non-Disclosure</h4>
                        <p>
                            The Consultant acknowledges that during the course of this engagement, Consultant may have access to confidential and proprietary information of Client, including but not limited to financial data, strategic plans, customer information, and trade secrets. Consultant agrees to maintain strict confidentiality of all such information and shall not disclose any confidential information to third parties without prior written consent of Client.
                        </p>

                        <h4>Article V - Intellectual Property Rights</h4>
                        <p>
                            All work product, deliverables, methodologies, and intellectual property developed specifically for Client in connection with the services hereunder shall be deemed "work made for hire" and shall be the exclusive property of Client. Consultant retains ownership of pre-existing intellectual property and general methodologies.
                        </p>

                        <h4>Article VI - Indemnification and Limitation of Liability</h4>
                        <p>
                            Each party shall indemnify and hold harmless the other party from and against any claims, damages, losses, and expenses arising out of such party's material breach of this Agreement or willful misconduct. In no event shall either party's liability exceed the total fees paid under this Agreement in the twelve (12) months preceding the claim.
                        </p>

                        <h4>Article VII - Governing Law and Dispute Resolution</h4>
                        <p>
                            This Agreement shall be governed by and construed in accordance with the laws of the State of New York, without regard to conflict of laws principles. Any disputes arising hereunder shall be resolved through binding arbitration administered by the American Arbitration Association in New York, New York.
                        </p>

                        <h4>Article VIII - Miscellaneous Provisions</h4>
                        <p>
                            This Agreement constitutes the entire agreement between the parties and supersedes all prior negotiations, representations, or agreements relating to the subject matter hereof. This Agreement may be executed in counterparts, including electronic signatures, each of which shall be deemed an original and all of which together shall constitute one and the same instrument.
                        </p>
                    </div>
                </div>
            </div>

            <!-- Client Information Form -->
            <div class="card">
                <div class="card-header">
                    <div class="card-title">
                        <svg class="icon" viewBox="0 0 24 24">
                            <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                            <circle cx="12" cy="7" r="4"></circle>
                        </svg>
                        Authorized Signatory Information
                    </div>
                    <div class="card-description">Executive authorization details for contract execution</div>
                </div>
                <div class="card-content">
                    <div class="form-grid two-cols">
                        <div class="form-group">
                            <label class="form-label" for="fullName">Full Legal Name</label>
                            <input type="text" id="fullName" class="form-input" placeholder="John Alexander Smith" required>
                        </div>
                        <div class="form-group">
                            <label class="form-label" for="email">Corporate Email</label>
                            <input type="email" id="email" class="form-input" placeholder="j.smith@corporation.com" required>
                        </div>
                    </div>
                    <div class="form-grid two-cols" style="margin-top: 25px;">
                        <div class="form-group">
                            <label class="form-label" for="phone">Direct Line</label>
                            <input type="tel" id="phone" class="form-input" placeholder="+1 (212) 555-0123">
                        </div>
                        <div class="form-group">
                            <label class="form-label" for="address">Corporate Address</label>
                            <input type="text" id="address" class="form-input" placeholder="123 Executive Plaza, New York, NY 10001">
                        </div>
                    </div>
                </div>
            </div>

            <!-- Signature Section -->
            <div class="card">
                <div class="card-header">
                    <div class="card-title">
                        <svg class="icon" viewBox="0 0 24 24">
                            <path d="M12 19l7-7 3 3-7 7-3-3z"></path>
                            <path d="M18 13l-1.5-7.5L2 2l3.5 14.5L13 18l5-5z"></path>
                            <path d="M2 2l7.586 7.586"></path>
                            <circle cx="11" cy="11" r="2"></circle>
                        </svg>
                        Executive Authentication
                    </div>
                    <div class="card-description">Secure digital signature authentication for legal execution</div>
                </div>
                <div class="card-content">
                    <div class="signature-section">
                        <!-- Type Signature -->
                        <div class="signature-option" id="typeSignatureOption">
                            <div class="signature-option-title">
                                Digital Signature
                            </div>
                            <div class="form-group">
                                <input type="text" id="signatureText" class="form-input signature-input" placeholder="Enter full legal name">
                            </div>
                            <div class="signature-status incomplete" id="typeStatus">
                                <div class="x-mark">✕</div>
                                <span>Authentication Required</span>
                            </div>
                        </div>

                        <!-- Draw Signature -->
                        <div class="signature-option" id="drawSignatureOption">
                            <div class="signature-option-title">
                                Handwritten Authentication
                            </div>
                            <div class="signature-canvas-container">
                                <div class="canvas-instructions">Execute signature in designated area</div>
                                <canvas id="signatureCanvas" class="signature-canvas" width="400" height="120"></canvas>
                                <button type="button" class="button button-clear" onclick="clearCanvas()">
                                    Clear Authentication
                                </button>
                            </div>
                            <div class="signature-status incomplete" id="drawStatus">
                                <div class="x-mark">✕</div>
                                <span>Authentication Required</span>
                            </div>
                        </div>
                    </div>

                    <div class="date-info">
                        <svg class="icon" viewBox="0 0 24 24">
                            <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
                            <line x1="16" y1="2" x2="16" y2="6"></line>
                            <line x1="8" y1="2" x2="8" y2="6"></line>
                            <line x1="3" y1="10" x2="21" y2="10"></line>
                        </svg>
                        <span>Execution Date: <span id="currentDate"></span></span>
                    </div>
                </div>
            </div>

            <!-- Submit Section -->
            <div class="card">
                <div class="card-content">
                    <div class="agreement-notice">
                        <h4>Executive Acknowledgment and Binding Agreement</h4>
                        <ul>
                            <li>By executing this agreement, you acknowledge full authority to bind your organization</li>
                            <li>You confirm understanding of all terms, conditions, and financial obligations herein</li>
                            <li>You agree to the confidentiality provisions and intellectual property terms</li>
                            <li>This electronic signature carries the same legal weight as a handwritten signature</li>
                            <li>This agreement is governed by New York State law and subject to binding arbitration</li>
                        </ul>
                    </div>
                    
                    <div class="button-group">
                        <button type="button" class="button button-secondary">
                            Save Draft
                        </button>
                        <button type="button" id="submitButton" class="button button-primary" onclick="submitDocument()">
                            Execute Agreement
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Success Page -->
        <div id="successPage" class="hidden">
            <div class="card">
                <div class="success-container">
                    <div class="success-icon">✓</div>
                    <h1 class="success-title">Agreement Successfully Executed</h1>
                    <p class="success-description">The Executive Consulting Agreement has been legally executed and is now binding upon all parties.</p>
                    <p style="margin-bottom: 40px; font-size: 1rem; color: #7f8c8d; font-weight: 500;">
                        Executed by: <strong id="signerName"></strong> on <span id="signatureDate"></span>
                    </p>
                    <div class="button-group" style="justify-content: center; gap: 25px;">
                        <button type="button" class="button button-secondary">Download Executed Document</button>
                        <button type="button" class="button button-primary">Distribute Certified Copies</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Global variables
        let isDrawing = false;
        let canvas, ctx;
        let hasTypedSignature = false;
        let hasDrawnSignature = false;

        // Initialize the application
        document.addEventListener('DOMContentLoaded', function() {
            // Set current date
            document.getElementById('currentDate').textContent = new Date().toLocaleDateString();
            
            // Initialize canvas
            canvas = document.getElementById('signatureCanvas');
            ctx = canvas.getContext('2d');
            ctx.strokeStyle = '#2c3e50';
            ctx.lineWidth = 2;
            ctx.lineCap = 'round';
            
            // Add canvas event listeners
            canvas.addEventListener('mousedown', startDrawing);
            canvas.addEventListener('mousemove', draw);
            canvas.addEventListener('mouseup', stopDrawing);
            canvas.addEventListener('mouseout', stopDrawing);

            // Add touch support for mobile
            canvas.addEventListener('touchstart', handleTouch, { passive: false });
            canvas.addEventListener('touchmove', handleTouch, { passive: false });
            canvas.addEventListener('touchend', handleTouch, { passive: false });
            
            // Form validation
            const inputs = ['fullName', 'email', 'signatureText'];
            inputs.forEach(id => {
                document.getElementById(id).addEventListener('input', validateForm);
            });

            // Initial validation
            validateForm();
        });

        // Canvas drawing functions
        function getCanvasCoordinates(e, canvas) {
            const rect = canvas.getBoundingClientRect();
            const scaleX = canvas.width / rect.width;
            const scaleY = canvas.height / rect.height;
            
            let clientX, clientY;
            
            if (e.touches) {
                clientX = e.touches[0].clientX;
                clientY = e.touches[0].clientY;
            } else {
                clientX = e.clientX;
                clientY = e.clientY;
            }
            
            return {
                x: (clientX - rect.left) * scaleX,
                y: (clientY - rect.top) * scaleY
            };
        }

        function startDrawing(e) {
            isDrawing = true;
            const coords = getCanvasCoordinates(e, canvas);
            ctx.beginPath();
            ctx.moveTo(coords.x, coords.y);
        }

        function draw(e) {
            if (!isDrawing) return;
            const coords = getCanvasCoordinates(e, canvas);
            ctx.lineTo(coords.x, coords.y);
            ctx.stroke();
            updateDrawSignatureStatus();
        }

        function stopDrawing() {
            isDrawing = false;
        }

        function handleTouch(e) {
            e.preventDefault();
            
            if (e.type === 'touchstart') {
                isDrawing = true;
                const coords = getCanvasCoordinates(e, canvas);
                ctx.beginPath();
                ctx.moveTo(coords.x, coords.y);
            } else if (e.type === 'touchmove' && isDrawing) {
                const coords = getCanvasCoordinates(e, canvas);
                ctx.lineTo(coords.x, coords.y);
                ctx.stroke();
                updateDrawSignatureStatus();
            } else if (e.type === 'touchend') {
                isDrawing = false;
            }
        }

        function clearCanvas() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            updateDrawSignatureStatus();
        }

        function isCanvasEmpty() {
            const imageData = ctx.getImageData(0, 0, canvas.width, canvas.height);
            return imageData.data.every(pixel => pixel === 0);
        }

        function updateDrawSignatureStatus() {
            hasDrawnSignature = !isCanvasEmpty();
            const drawStatus = document.getElementById('drawStatus');
            const drawOption = document.getElementById('drawSignatureOption');
            
            if (hasDrawnSignature) {
                drawStatus.className = 'signature-status complete';
                drawStatus.innerHTML = '<div class="checkmark">✓</div><span>Authentication Complete</span>';
                drawOption.classList.add('has-content');
            } else {
                drawStatus.className = 'signature-status incomplete';
                drawStatus.innerHTML = '<div class="x-mark">✕</div><span>Authentication Required</span>';
                drawOption.classList.remove('has-content');
            }
            validateForm();
        }

        function updateTypeSignatureStatus() {
            const signatureText = document.getElementById('signatureText').value.trim();
            hasTypedSignature = signatureText.length > 0;
            const typeStatus = document.getElementById('typeStatus');
            const typeOption = document.getElementById('typeSignatureOption');
            
            if (hasTypedSignature) {
                typeStatus.className = 'signature-status complete';
                typeStatus.innerHTML = '<div class="checkmark">✓</div><span>Authentication Complete</span>';
                typeOption.classList.add('has-content');
            } else {
                typeStatus.className = 'signature-status incomplete';
                typeStatus.innerHTML = '<div class="x-mark">✕</div><span>Authentication Required</span>';
                typeOption.classList.remove('has-content');
            }
        }

        // Form validation
        function validateForm() {
            const fullName = document.getElementById('fullName').value.trim();
            const email = document.getElementById('email').value.trim();
            
            updateTypeSignatureStatus();
            
            const isValid = fullName && email && (hasTypedSignature || hasDrawnSignature);
            
            document.getElementById('submitButton').disabled = !isValid;
        }

        // Submit document
        function submitDocument() {
            const fullName = document.getElementById('fullName').value.trim();
            const email = document.getElementById('email').value.trim();
            
            if (!fullName || !email) {
                alert('Please complete all required executive information fields.');
                return;
            }
            
            if (!hasTypedSignature && !hasDrawnSignature) {
                alert('Executive authentication is required to execute this agreement.');
                return;
            }
            
            // Show success page
            document.getElementById('documentInterface').classList.add('hidden');
            document.getElementById('successPage').classList.remove('hidden');
            
            // Update success page info
            document.getElementById('signerName').textContent = fullName;
            document.getElementById('signatureDate').textContent = new Date().toLocaleDateString();
        }
    </script>
</body>
</html>